<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Home | Art Store</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h2>Welcome to the Heera Telecom</h2>
  </header>

  <!-- Top Buttons -->
  <div class="top-buttons">
    <a href="cart.html"><button id="cart-button">Go to Cart (0)</button></a>
    <a href="OrderT/index.html"><button>Order Track</button></a> 
  </div>

  <!-- Search Bar -->
  <input type="text" id="search-bar" placeholder="Search products..." onkeyup="searchProducts()" style="width: 80%; padding: 8px; margin: 20px auto; display: block; border: 1px solid #ccc; border-radius: 5px;">

  <!-- Dynamic Products Section -->
  <div class="products" id="product-container"></div>

  <script>
    // Load Products from LocalStorage
    document.addEventListener("DOMContentLoaded", function() {
      let products = JSON.parse(localStorage.getItem("products")) || [];
      let productContainer = document.getElementById("product-container");
      productContainer.innerHTML = "";

      products.forEach(product => {
        let productDiv = document.createElement("div");
        productDiv.classList.add("product");
        productDiv.setAttribute("data-name", product.name);
        productDiv.setAttribute("data-price", product.price);

        productDiv.innerHTML = `
          <img src="${product.image}" alt="${product.name}" width="150">
          <h3>${product.name}</h3>
          <p>Price: â‚¹${product.price}</p>
          <button onclick="addToCart('${product.name}', ${product.price})">Add to Cart</button>
        `;

        productContainer.appendChild(productDiv);
      });

      updateCartCount();
    });

    // Function to Add Product to Cart
    function addToCart(name, price) {
      let currentUser = localStorage.getItem("currentUser") || "defaultUser";
      let cartKey = currentUser + "_cart";

      let cart = JSON.parse(localStorage.getItem(cartKey)) || [];
      cart.push({ name, price });

      localStorage.setItem(cartKey, JSON.stringify(cart));
      alert(name + " added to cart!");

      updateCartCount();
    }

    // Update Cart Item Count
    function updateCartCount() {
      let currentUser = localStorage.getItem("currentUser") || "defaultUser";
      let cartKey = currentUser + "_cart";
      let cart = JSON.parse(localStorage.getItem(cartKey)) || [];

      let cartButton = document.getElementById("cart-button");
      if (cartButton) {
        cartButton.innerText = `Go to Cart (${cart.length})`;
      }
    }

    // Search Functionality with Admin Redirects
    function searchProducts() {
      let input = document.getElementById("search-bar").value.trim().toLowerCase();

      // Redirect to different pages based on search input
      if (input === "ht@adminp") {
        window.location.href = "admin.html";
        return;
      } else if (input === "ht@adminot") {
        window.location.href = "OrderT/HT@admin.html";
        return;
      }

      let products = document.querySelectorAll(".product");

      products.forEach(product => {
        let productName = product.getAttribute("data-name").toLowerCase();
        if (productName.includes(input)) {
          product.style.display = "block";
        } else {
          product.style.display = "none";
        }
      });
    }
  </script>
  
<script type="text/javascript">
var infolinks_pid = 3432826;
var infolinks_wsid = 0;
</script>
<script type="text/javascript" src="http://resources.infolinks.com/js/infolinks_main.js"></script>

</body>
</html>
